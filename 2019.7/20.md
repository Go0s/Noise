- ping命令使用的是ICMP协议，位于OSI七层网络模型中的第三层，网络层。
- proxychains-ng 原理：简单的说就是这个程序 Hook 了 sockets 相关的操作，让普通程序的 sockets 数据走 SOCKS/HTTP 代理。其核心就是利用了 LD_PRELOAD 这个环境变量（Mac 上是 DYLD_INSERT_LIBRARIES）。在 Unix 系统中，如果设置了 LD_PRELOAD 环境变量，那么在程序运行时，动态链接器会先加载该环境变量所指定的动态库。也就是说，这个动态库的加载优先于任何其它的库，包括 libc。ProxyChains 创建了一个叫 libproxychains4.so（Mac 上是 libproxychains4.dylib）的动态库。里面重写了 connect、close 以及 sendto 等与 socket 相关的函数，通过这些函数发出的数据将会走代理，详细代码可以参考 libproxychains.c。在主程序里，它会读取配置文件，查找 libproxychains4 所在位置，把这些信息存入环境变量后执行子程序。这样子程序里对 socket 相关的函数调用就会被 Hook 了，对子程序来说，跟代理相关的东西都是透明的。可以用 printenv 来查看前后增加的环境变量。
- proxychains后面接ping命令是不可以的，因为proxychains是在tcp层，ping命令是基于icmp在ip层，所以使用proxychains后面接ping命令是没有的。
- 由于proxychains无法代理icmp的数据包，所以nmap必须添加-Pn参数，即不检测主机是否存活，直接进行端口tcp扫描。proxychains4 nmap -sT -Pn –open 192.168.100.1/22
- socks协议不兼容icmp协议。